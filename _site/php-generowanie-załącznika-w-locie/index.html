<!DOCTYPE html>
<html>

<head>
    <title>Generowanie załącznika w locie by dołączyć go do email'a - bez zapisu na dysku serwera. – Blog – Edyta Jozdowska</title>
    <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Generowanie załącznika w locie by dołączyć go do email’a - bez zapisu na dysku serwera. | Blog</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Generowanie załącznika w locie by dołączyć go do email’a - bez zapisu na dysku serwera." />
<meta name="author" content="Edyta Jozdowska" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Skrypt php mający za zadanie wygenerowanie załącznika, który zostanie dołączony do wiadomości bez zapisywania czegokolwiek na serwerze." />
<meta property="og:description" content="Skrypt php mający za zadanie wygenerowanie załącznika, który zostanie dołączony do wiadomości bez zapisywania czegokolwiek na serwerze." />
<link rel="canonical" href="http://localhost:4000/blog/php-generowanie-za%C5%82%C4%85cznika-w-locie/" />
<meta property="og:url" content="http://localhost:4000/blog/php-generowanie-za%C5%82%C4%85cznika-w-locie/" />
<meta property="og:site_name" content="Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-01-04T18:19:00+01:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Generowanie załącznika w locie by dołączyć go do email’a - bez zapisu na dysku serwera." />
<script type="application/ld+json">
{"description":"Skrypt php mający za zadanie wygenerowanie załącznika, który zostanie dołączony do wiadomości bez zapisywania czegokolwiek na serwerze.","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/blog/php-generowanie-za%C5%82%C4%85cznika-w-locie/"},"url":"http://localhost:4000/blog/php-generowanie-za%C5%82%C4%85cznika-w-locie/","author":{"@type":"Person","name":"Edyta Jozdowska"},"headline":"Generowanie załącznika w locie by dołączyć go do email’a - bez zapisu na dysku serwera.","dateModified":"2020-01-04T18:19:00+01:00","datePublished":"2020-01-04T18:19:00+01:00","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
 <meta charset="utf-8" />
<meta content='text/html; charset=utf-8' http-equiv='Content-Type'>
<meta http-equiv='X-UA-Compatible' content='IE=edge'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0'> 
<meta name="description" content="Skrypt php mający za zadanie wygenerowanie załącznika, który zostanie dołączony do wiadomości bez zapisywania czegokolwiek na serwerze." />
<meta property="og:description" content="Skrypt php mający za zadanie wygenerowanie załącznika, który zostanie dołączony do wiadomości bez zapisywania czegokolwiek na serwerze." /> 
<meta name="author" content="Blog" /> 
<meta property="og:title" content="Generowanie załącznika w locie by dołączyć go do email'a - bez zapisu na dysku serwera." />
<meta property="twitter:title" content="Generowanie załącznika w locie by dołączyć go do email'a - bez zapisu na dysku serwera." />  
<meta property="og:image" content="http://localhost:4000/images/logo.png" />
<meta property="twitter:image" content="http://localhost:4000/images/logo.png" /> 
<meta property="og:site_name" content="Edyta Jozdowska" />
<meta property="og:url" content="/blog" />

    <link rel="stylesheet" type="text/css" href="/blog/assets/style.css?ver=1.5" />.
    <link rel="alternate" type="application/rss+xml" title="Blog - Edyta Jozdowska"
        href="/blog/feed.xml" />
    <link rel="canonical" href="http://localhost:4000/php-generowanie-za%C5%82%C4%85cznika-w-locie/" />
    <meta name="theme-color" content="#000000">
    <link rel="icon" type="image/png" sizes="32x32" href="/blog/images/favicon.ico">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox/dist/css/glightbox.min.css">
    <link href="https://fonts.googleapis.com/css?family=Oxygen+Mono&display=swap" rel="stylesheet">
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-KWPRJ9PNQ8"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-KWPRJ9PNQ8');
    </script>
</head>

<body>
    <div id="bar"></div>
    <div class="wrapper-container" id="top">
        <div class="wrapper-masthead">
            <div class="container">
                <header class="masthead clearfix">
                    <a href="/blog/" class="site-avatar"><img
                            src="/blog/images/logo.png" /></a>

                    <div class="site-info">
                        <h1 class="site-name"><a href="/blog/">Blog</a></h1>
                        <p class="site-description">Edyta Jozdowska</p>
                    </div>

                    <nav class="link-effect">
                        
                        <a href="/blog/" >
                            <span>Blog</span>
                        </a>
                        
                        <a href="/blog/o-mnie" >
                            <span>O mnie</span>
                        </a>
                        
                        <a href="https://ejapp.pl/folio/" 
                            target="_blank" >
                            <span>Folio</span>
                        </a>
                        
                        <a href="/blog/search" >
                            <span>Szukaj</span>
                        </a>
                        
                    </nav>
                </header>
            </div>
        </div>

        <div class="wrapper-main">

            <div id="main" role="main" class="container">
                <article class="post detailed">
  <h1>Generowanie załącznika w locie by dołączyć go do email'a - bez zapisu na dysku serwera.</h1>

  <div>
    <p class="author_title">Jozdowska Edyta · 04 Styczeń 2020</p>
    
    <div class="post-meta">
      <div class="cat">
        
        Kategorie:&nbsp;&nbsp;
        <ul class="category">
          
          <li>
            <a href="/blog/kategoria/php">
              php
            </a>
          </li>
          
        </ul>
      </div>
      <div class="tags">
        Tagi:&nbsp;&nbsp;
        
        <ul class="tags_cnt">
          
          <li>
            <a href="/blog/tags/php">
              #php
            </a>
          </li>
          
        </ul>
      </div>
    </div>

    <div class="entry">
      <!-- TOC -->

<ul class="content_list">
  <li><a href="#1wysy%c5%82anie-maila-z-php">1.Wysyłanie maila z php</a></li>
  <li><a href="#2klasa-do-wysy%c5%82ania-maila">2.Klasa do wysyłania maila</a></li>
  <li><a href="#3u%c5%bcycie">3.Użycie</a></li>
</ul>
<!-- /TOC -->

<h1 id="1wysyłanie-maila-z-php">1.Wysyłanie maila z php</h1>

<p>Temat bardzo prosty. Bo co to znaczy wysłać maila w php? Mamy funkcję <code class="language-plaintext highlighter-rouge">mail</code>. Każdy co ma styczność z php powinien ją znać. Jeśli nie w <a href="https://www.php.net/manual/en/function.mail.php" target="_blank">dokumentacji PHP można o niej przeczytać więcej</a>. Można też użyć klasy <a href="https://github.com/PHPMailer/PHPMailer" target="_blank">PHPMailer</a> <sup id="fnref:1" role="doc-noteref"><a href="#fn:1" class="footnote" rel="footnote">1</a></sup>. Rozwiązań jest dużo.</p>

<p>W momencie, gdy mamy załączyć plik nie zapisany nigdzie musimy go wygenerować. Poniższa klasa służy właśnie do wygenerowania załącznika z tablicy danych i załączenia go w pamięci do naszego maila.</p>

<h1 id="2klasa-do-wysyłania-maila">2.Klasa do wysyłania maila</h1>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">SendMail</span><span class="p">{</span>
  <span class="k">public</span> <span class="nv">$to</span><span class="p">;</span> <span class="c1">// adres na który wiadomość zostanie wysłana</span>
  <span class="k">private</span> <span class="nv">$senderEmail</span><span class="p">;</span> <span class="c1">// kto wysyła wiadomość</span>
  <span class="k">private</span> <span class="nv">$senderName</span><span class="p">;</span><span class="c1">// ładna nazwa nadawcy</span>
  <span class="k">private</span> <span class="nv">$replyTo</span><span class="p">;</span><span class="c1">// do kogo odpowiedzieć </span>
  <span class="k">private</span> <span class="nv">$multipartSep</span><span class="p">;</span> <span class="c1">// separator by załączyć plik w md5</span>
  <span class="k">private</span> <span class="nv">$headers</span><span class="p">;</span><span class="c1">// wysyłane nagłówki wiadomości</span>
  <span class="k">private</span> <span class="nv">$attachmentName</span><span class="p">;</span><span class="c1">// nazwa załącznika</span>
  <span class="k">private</span> <span class="nv">$attachment</span><span class="p">;</span><span class="c1">// załącznik</span>
  
  <span class="k">function</span> <span class="n">__construct</span><span class="p">()</span> <span class="p">{</span>
          <span class="c1">//te dane ustawiam tutaj, jednak mogły by one równie dobrze zostać ustawione później.</span>

          <span class="nv">$this</span><span class="o">-&gt;</span><span class="n">senderEmail</span> <span class="o">=</span> <span class="s2">"fromMail@domain.com"</span><span class="p">;</span>
          <span class="nv">$this</span><span class="o">-&gt;</span><span class="n">senderName</span> <span class="o">=</span> <span class="s2">"My really cool name"</span><span class="p">;</span>
          <span class="nv">$this</span><span class="o">-&gt;</span><span class="n">replyTo</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="n">senderEmail</span><span class="p">;</span>
          <span class="nv">$this</span><span class="o">-&gt;</span><span class="n">multipartSep</span> <span class="o">=</span> <span class="s1">'-----'</span><span class="mf">.</span><span class="nb">md5</span><span class="p">(</span><span class="nb">time</span><span class="p">())</span><span class="mf">.</span><span class="s1">'-----'</span><span class="p">;</span>
          <span class="nv">$this</span><span class="o">-&gt;</span><span class="n">attachmentName</span> <span class="o">=</span> <span class="s1">'myCoolNameOfAttachment'</span><span class="p">;</span>
         
         <span class="nv">$this</span><span class="o">-&gt;</span><span class="nf">setHeaders</span><span class="p">();</span>
  <span class="p">}</span>

  <span class="k">function</span> <span class="n">setHeaders</span><span class="p">(){</span>

    <span class="nv">$this</span><span class="o">-&gt;</span><span class="n">headers</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
      <span class="s2">"From:</span><span class="nv">$this-&gt;senderName</span><span class="s2">&lt;</span><span class="nv">$this-&gt;senderEmail</span><span class="s2">&gt;"</span><span class="p">,</span>
      <span class="s2">"Reply-To: "</span><span class="mf">.</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="n">replyTo</span><span class="p">,</span>
      <span class="s2">"Content-Type: multipart/mixed; boundary=</span><span class="se">\"</span><span class="nv">$this-&gt;multipartSep</span><span class="se">\"</span><span class="s2">"</span>
    <span class="p">);</span>

  <span class="p">}</span>

  <span class="k">function</span> <span class="n">sendMail</span><span class="p">(</span><span class="nv">$data</span><span class="p">){</span>

    <span class="cm">/* input :
      $data = [
        'to'=&gt; String e-mail
        'data'=&gt; Max two dimensional Array
        'message'=&gt; String
        'subject'=&gt; String
      ];
    */</span>

    <span class="nb">extract</span><span class="p">(</span><span class="nv">$data</span><span class="p">);</span>

    <span class="nv">$this</span><span class="o">-&gt;</span><span class="n">attachment</span> <span class="o">=</span> <span class="nb">chunk_split</span><span class="p">(</span><span class="nb">base64_encode</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="nf">array2csv</span><span class="p">(</span><span class="nv">$to</span><span class="p">)));</span>
    
    <span class="k">if</span><span class="p">(</span><span class="nb">empty</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="n">attachment</span><span class="p">))</span> <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
    
    <span class="nv">$subject</span> <span class="o">=</span> <span class="s1">'=?UTF-8?q?'</span> <span class="mf">.</span> <span class="nb">quoted_printable_encode</span><span class="p">(</span><span class="nv">$subject</span><span class="p">)</span> <span class="mf">.</span> <span class="s1">'?='</span><span class="p">;</span>	

    <span class="nv">$csvName</span><span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="n">attachmentName</span><span class="mf">.</span><span class="nb">date</span><span class="p">(</span><span class="s2">"Y_m_d_H_i_s"</span><span class="p">)</span><span class="mf">.</span><span class="s1">'.csv'</span><span class="p">;</span>

    <span class="nv">$body</span> <span class="o">=</span> <span class="s2">"--</span><span class="nv">$this-&gt;multipartSep</span><span class="se">\r\n</span><span class="s2">"</span>
      <span class="mf">.</span> <span class="s2">"Content-Type: text/html; charset=utf-8; format=flowed</span><span class="se">\r\n</span><span class="s2">"</span>
      <span class="mf">.</span> <span class="s2">"Content-Transfer-Encoding: 7bit</span><span class="se">\r\n</span><span class="s2">"</span>
      <span class="mf">.</span> <span class="s2">"</span><span class="se">\r\n</span><span class="s2">"</span>
      <span class="mf">.</span> <span class="nv">$message</span><span class="mf">.</span><span class="s2">"</span><span class="se">\r\n</span><span class="s2">"</span>
      <span class="mf">.</span> <span class="s2">"--</span><span class="nv">$this-&gt;multipartSep</span><span class="se">\r\n</span><span class="s2">"</span>
      <span class="c1">//. "Content-Type: application/vnd.ms-excel\r\n"</span>
      <span class="mf">.</span> <span class="s2">"Content-Type: application/vnd.openxmlformats-officedocument.spreadsheetml.sheet</span><span class="se">\r\n</span><span class="s2">"</span>
      <span class="mf">.</span> <span class="s2">"Content-Transfer-Encoding: base64</span><span class="se">\r\n</span><span class="s2">"</span>
      <span class="mf">.</span> <span class="s2">"Content-Disposition: attachment; filename=</span><span class="se">\"</span><span class="s2">"</span><span class="mf">.</span><span class="nv">$csvName</span><span class="mf">.</span><span class="s2">"</span><span class="se">\"\r\n</span><span class="s2">"</span>
      <span class="mf">.</span> <span class="s2">"</span><span class="se">\r\n</span><span class="s2">"</span>
      <span class="mf">.</span> <span class="s2">"</span><span class="nv">$this-&gt;attachment</span><span class="se">\r\n</span><span class="s2">"</span>
      <span class="mf">.</span> <span class="s2">"--</span><span class="nv">$this-&gt;multipartSep</span><span class="s2">--"</span><span class="p">;</span>
      
      <span class="k">try</span> <span class="p">{</span>
        
        <span class="nb">mail</span><span class="p">(</span><span class="nv">$to</span><span class="p">,</span> <span class="nv">$subject</span><span class="p">,</span> <span class="nv">$body</span><span class="p">,</span> <span class="nb">implode</span><span class="p">(</span><span class="s2">"</span><span class="se">\r\n</span><span class="s2">"</span><span class="p">,</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="n">headers</span><span class="p">));</span>

        <span class="k">echo</span> <span class="s1">'Mail wysłany'</span><span class="p">;</span>

      <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nc">Exception</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>

          <span class="k">echo</span> <span class="s1">'Błąd wysłania maila: '</span><span class="p">,</span>  <span class="nv">$e</span><span class="o">--&gt;</span><span class="nf">getMessage</span><span class="p">(),</span> <span class="s2">"</span><span class="se">\n</span><span class="s2">"</span><span class="p">;</span>
      <span class="p">}</span>
  <span class="p">}</span>

  <span class="k">function</span> <span class="n">array2csv</span><span class="p">(</span><span class="nv">$data</span><span class="p">,</span> <span class="nv">$delimiter</span> <span class="o">=</span> <span class="s1">','</span><span class="p">,</span> <span class="nv">$enclosure</span> <span class="o">=</span> <span class="s1">''</span><span class="p">,</span> <span class="nv">$escape_char</span> <span class="o">=</span> <span class="s2">"</span><span class="se">\\</span><span class="s2">"</span><span class="p">){</span>
    
    <span class="c1">//Funkcja do wygenerowania załącznika z danych tablicy maksymalnie dwu wymiarowej</span>

    <span class="nv">$f</span> <span class="o">=</span> <span class="nb">fopen</span><span class="p">(</span><span class="s1">'php://memory'</span><span class="p">,</span> <span class="s1">'rw+'</span><span class="p">);</span>
    <span class="c1">//nasze dane są jako tablica</span>
    <span class="k">foreach</span> <span class="p">(</span><span class="nv">$data</span> <span class="k">as</span> <span class="nv">$key</span> <span class="o">=&gt;</span> <span class="nv">$item</span><span class="p">)</span> <span class="p">{</span>		
      
      <span class="k">if</span><span class="p">(</span><span class="nb">is_array</span><span class="p">(</span><span class="nv">$item</span><span class="p">)){</span>          
          <span class="k">foreach</span> <span class="p">(</span><span class="nv">$item</span> <span class="k">as</span> <span class="nv">$k</span><span class="o">=&gt;</span><span class="nv">$i</span><span class="p">)</span> <span class="p">{</span>            
              <span class="nb">array_push</span><span class="p">(</span><span class="nv">$data</span><span class="p">,</span><span class="nv">$i</span><span class="p">);</span>          
          <span class="p">}</span>
          <span class="nb">unset</span><span class="p">(</span><span class="nv">$data</span><span class="p">[</span><span class="nv">$key</span><span class="p">]);</span>	
      <span class="p">}</span>        
    <span class="p">}</span>

    <span class="nb">fputcsv</span><span class="p">(</span><span class="nv">$f</span><span class="p">,</span> <span class="nv">$data</span><span class="p">,</span> <span class="nv">$delimiter</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="nv">$escape_char</span><span class="p">);</span>
    <span class="nb">rewind</span><span class="p">(</span><span class="nv">$f</span><span class="p">);</span> <span class="c1">//wróć do początku pliku</span>
    <span class="k">return</span> <span class="nb">rtrim</span><span class="p">(</span><span class="nb">stream_get_contents</span><span class="p">(</span><span class="nv">$f</span><span class="p">));</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h1 id="3użycie">3.Użycie</h1>
<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre>
<span class="nv">$o</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SendMail</span><span class="p">();</span>
<span class="nv">$data</span> <span class="o">=</span> <span class="p">[</span>
  <span class="s1">'to'</span><span class="o">=&gt;</span><span class="s1">'emailTo@domain.com'</span><span class="p">,</span>
  <span class="s1">'data'</span><span class="o">=&gt;</span><span class="k">array</span><span class="p">(</span><span class="s2">"a"</span><span class="o">=&gt;</span><span class="s2">"a"</span><span class="p">,</span><span class="s2">"b"</span><span class="o">=&gt;</span><span class="s2">"b"</span><span class="p">),</span>
  <span class="s1">'message'</span><span class="o">=&gt;</span><span class="s1">'message'</span><span class="p">,</span>
  <span class="s1">'subject'</span><span class="o">=&gt;</span><span class="s1">'subject'</span>
<span class="p">];</span>

<span class="nv">$o</span><span class="o">-&gt;</span><span class="nf">sendMail</span><span class="p">(</span><span class="nv">$data</span><span class="p">);</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<div class="footnotes" role="doc-endnotes">
  <ol>
    <li id="fn:1" role="doc-endnote">
      <p>https://github.com/PHPMailer/PHPMailer <a href="#fnref:1" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
  </ol>
</div>

    </div>

    <div class="share">
      <p>
        <span class="share-box">Podziel się:</span>
        <a href="http://twitter.com/share?text=Generowanie załącznika w locie by dołączyć go do email'a - bez zapisu na dysku serwera.&url=http://localhost:4000/blog/php-generowanie-za%C5%82%C4%85cznika-w-locie/"
          target="_blank">Twitter</a>,
        <a href="https://www.facebook.com/sharer.php?u=http://localhost:4000/blog/php-generowanie-za%C5%82%C4%85cznika-w-locie/"
          target="_blank">Facebook</a>
      </p>
    </div>
    <div class="author">        
      <div class="avatar">
    <figure style="background-image: url('/blog/images/me.jpg');"></figure>
</div>
<div>
    <h3>Jozdowska Edyta * FullStack Developer</h3>
    <p>Pisanie kodu jest moją pasją. Zajmuję się tym od przeszło 10 lat, z większą lub mniejszą intensywnością.<br/>Piszę kod w PHP, JS, SCSS i Python. Nie stronię też od poznawania nowych, lub jak kto woli starych rozwiązań jak Jekyll oraz innych języków
        np. Java.</p>
    <a href="../o-mnie">więcej o mnie</a>

</div>
    </div>
    <div class="related">
      <h4>Powiązane posty:</h4>
      <div class="rect">
    
    
    
    <!-- powiązanie po tagach -->
      
      
        
        
      
      
      
        
        
      
      
      
        
        
      
      
      
        
        
        
            <a href="/blog/shadow-of-the-knight-ep1/">
                <div class="rel">
                    <h5>Shadow of the Knight - Episode 1 - binary search, simple <time class="post_date">30 Styczeń 2021</time></h5>
                    
                </div>
            </a>  
        
        
      
      
      
        
        
      
      
      
        
        
        
            <a href="/blog/sudoku-validator/">
                <div class="rel">
                    <h5>Walidacja sudoku <time class="post_date">28 Lipiec 2020</time></h5>
                    
                </div>
            </a>  
        
        
      
      
      
        
        
      
      
      
        
        
      
      
      
        
        
      
      
      
        
        
      
      
      
        
        
      
      
      
        
        
      
      
      
        
        
      
      
      
        
        
      
      
      
        
        
      
      
      
        
        
      
      
      
        
        
        
            <a href="/blog/floating-point-problem/">
                <div class="rel">
                    <h5>Floating-point problem <time class="post_date">22 Luty 2020</time></h5>
                    
                </div>
            </a>  
        
        
      
      
      
        
        
        
            <a href="/blog/happy-numbers/">
                <div class="rel">
                    <h5>Happy numbers <time class="post_date">22 Luty 2020</time></h5>
                    
                </div>
            </a>  
        
        
          
  </div>
    </div>
    <!--<div class="date">
    Written on January  4, 2020
  </div>-->
    
<div class="comments">
	<div id="disqus_thread"></div>
	<script type="text/javascript">

	    var disqus_shortname = 'capo1-github-io';

	    (function() {
	        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
	        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
	        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	    })();

	</script>
	<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>

  </article>
                <a style="float:right" href="#top" class="archive-top-link">&#8593;</a>
            </div>

        </div>

        <div class="wrapper-footer">
            <div class="container">
                <footer class="footer">
                    
<a href="mailto:jozdowska.edyta@protonmail.com"><i class="svg-icon email"></i></a>


<a href="https://github.com/capo1/blog"><i class="svg-icon github"></i></a>

<a href="https://www.linkedin.com/in/edyta-jozdowska-tyrlik"><i class="svg-icon linkedin"></i></a>

<a href="/blog/feed.xml"><i class="svg-icon rss"></i></a>






                </footer>
            </div>
        </div>
    </div>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/raphael/2.3.0/raphael.min.js"></script>
    <script src="/blog/assets/flow.js"></script>
   -->
    <script async src="/blog/assets/main.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/mcstudios/glightbox/dist/js/glightbox.min.js"></script>
    <script>
        let cnt1 = document.getElementsByClassName('language-graph');
        if (cnt1) {
            var s = document.createElement('script');
            s.setAttribute('src', 'https://unpkg.com/mermaid@8.4.6/dist/mermaid.min.js');
            document.body.appendChild(s);
            var config = {
                startOnLoad: true,
                flowchart: {
                    useMaxWidth: false,
                    htmlLabels: true,
                    curve: 'linear',
                },
                securityLevel: 'loose',
            };

            s.onload = () => {
                mermaid.initialize(config);
                Array.from(cnt1).forEach((el, i) => {
                    el.parentNode.classList.add('hasDiagram')

                    let insertSvg = function (svgCode, bindFunctions) {
                        el.innerHTML = svgCode;
                    };
                    let graphDef = el.innerHTML.replace(new RegExp('&amp;', "gi"), '&').replace(new RegExp('&gt;', "gi"), '>').replace(new RegExp('&lt;', "gi"), '<')
                    mermaid.mermaidAPI.render(`graphDiv${i}`, graphDef, insertSvg);
                });
            }




        };

        let zadanie = document.getElementsByClassName('language-Zadanie')[0]
        if (zadanie) zadanie.parentNode.classList.add('zadanie');
    </script>
    <script>
        var lightbox = GLightbox({
            touchNavigation: true,
            loop: true
        });
        /* let cnt = document.getElementsByClassName('language-flow')[0];
         var diagram = flowchart.parse(cnt.innerHTML.replace(new RegExp('&gt;', "gi"), '>'));
         var t = document.createElement('div')
         t.id = "diagram"
         cnt.parentNode.insertBefore(t, cnt);
         cnt.parentNode.classList.add('hasDiagram')
         diagram.drawSVG('diagram', {
             'x': 0,
             'y': 0,
             'line-width': 2,
             'line-length': 50,
             'text-margin': 15,
             'font-size': 11,
             'font-color': '#020202',
             'line-color': '#020202',
             'element-color': 'black',
             'fill': 'white',
             'yes-text': 'tak',
             'no-text': 'nie',
             'arrow-end': 'block',
             'scale': 1,
             // style symbol types
             'symbols': {
                 'start': {
                     'class': 'start-element',
                     'font-color': '#020202',
                     'element-color': '#020202',
                     'fill': '#f7f7f7'
                 },
                 'end': {
                     'class': 'end-element',
                     'element-color': '#020202',
                     "fill": "#d4e1f5"
                 }
             },
             // even flowstate support ;-)
             'flowstate': {
                 'past': {
                     'fill': '#CCCCCC',
                     'font-size': 12
                 },
                 'current': {
                     'fill': '#f9ecec',
                 },
                 'future': {
                     'fill': '#FFFF99'
                 },
                 'request': {
                     'fill': 'blue'
                 },
                 'invalid': {
                     'fill': '#444444'
                 },
                 'approved': {
                     'fill': '#58C4A3',
                     'font-size': 12,
                     'yes-text': 'APPROVED',
                     'no-text': 'n/a'
                 },
                 'rejected': {
                     'fill': '#C45879',
                     'font-size': 12,
                     'yes-text': 'n/a',
                     'no-text': 'REJECTED'
                 }
             }
         });*/
    </script>
    <div id="toast">
        <div id="desc">A notification message..</div>
    </div>
    
	<!-- Google Analytics -->
	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		ga('create', 'UA-151550688-1', 'auto');
		ga('send', 'pageview', {
		  'page': '/blog/php-generowanie-za%C5%82%C4%85cznika-w-locie/',
		  'title': 'Generowanie załącznika w locie by dołączyć go do email\'a - bez zapisu na dysku serwera.'
		});
	</script>
	<!-- End Google Analytics -->



</body>

</html>